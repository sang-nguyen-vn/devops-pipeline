apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: infra-core
  namespace: argocd
spec:
  project: default
  source:
    repoURL: git@github.com:sang-nguyen-vn/gitops-root.git  # ğŸ”¹ URL cá»§a repo GitOps
    targetRevision: HEAD                                    # ğŸ”¹ Láº¥y commit má»›i nháº¥t
    path: apps/infra-core                                   # ğŸ”¹ ÄÆ°á»ng dáº«n Ä‘áº¿n Helm Chart
    helm:
      valueFiles:                                           # ğŸ”¹ Sá»­ dá»¥ng giÃ¡ trá»‹ tá»« values.yaml
        - values.yaml
  destination:
    server: https://kubernetes.default.svc
    namespace: infra-core                                   # ğŸ”¹ Namespace Ä‘á»ƒ deploy
  syncPolicy:
    automated:
      prune: true                                          # ğŸ”¹ XÃ³a resource thá»«a
      selfHeal: true                                       # ğŸ”¹ Tá»± Ä‘á»™ng sá»­a lá»—i lá»‡ch cáº¥u hÃ¬nh
    syncOptions:
      - CreateNamespace=true                               # ğŸ”¹ Tá»± Ä‘á»™ng táº¡o namespace náº¿u chÆ°a cÃ³

